<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title></title>
        <script src="//cdn.jsdelivr.net/npm/globe.gl"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    </head>

    <body>
        <h1 class="fixed top-1 right-1 text-3xl sm:text-6xl pointer-events-none z-10">NON-ARCHIVES</h1>
        <div class="fixed bottom-2 sm:top-2 left-2 font-mono z-10">
            <h2 class="italic">Where are you?</h2>
            <h2 class="italic">Where is the non-archives data?</h2>
            <h2 class="italic">Where is the Ocean Archive data?</h2>
            <h2 class="italic">Where is the Organismo data?</h2>
        </div>
        <div id="globeViz" class="max-w-[100svw] max-h-[100svh]"></div>

        <div id="playground" class="absolute inset-0 z-30 pointer-events-none overflow-hidden">
            <div class="agent absolute h-40 aspect-square cursor-pointer z-30" style="top: 0; left: 0">
                <model-viewer
                    class="mb-2 w-full h-full pointer-events-none"
                    src="/project/characters/controler.glb"
                    tone-mapping="neutral"
                    shadow-intensity="2"
                    shadow-softness="0"
                    exposure="1.15"
                    camera-orbit="99.92deg 0deg 3.792m"
                    field-of-view="30deg"
                    auto-rotate
                >
                </model-viewer>
                <div class="absolute top-4 left-4 text-xl pointer-events-auto">
                    <h3 class="text-3xl mb-2 hidden agent-text">Linear Character</h3>
                    <p class="mb-6 hidden agent-text">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa sit recusandae voluptas velit placeat maxime reprehenderit aliquam odio
                        adipisci, ut laudantium autem obcaecati explicabo iusto rerum illum error possimus aperiam!
                    </p>
                    <a href="/linear" class="bg-white p-2 border hover:bg-blue-200 hidden agent-text">Access</a>
                </div>
            </div>

            <div class="agent absolute h-40 aspect-square cursor-pointer z-30" style="top: 0; left: 0">
                <model-viewer
                    class="mb-2 w-full h-full pointer-events-none"
                    src="/project/characters/hashtag.glb"
                    tone-mapping="neutral"
                    shadow-intensity="2"
                    shadow-softness="0"
                    exposure="1.15"
                    camera-orbit="99.92deg 0deg 3.792m"
                    field-of-view="30deg"
                    auto-rotate
                >
                </model-viewer>
                <div class="absolute top-4 left-4 text-xl pointer-events-auto">
                    <h3 class="text-3xl mb-2 hidden agent-text">Files Character</h3>
                    <p class="mb-6 hidden agent-text">
                        ip-api.com Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa sit recusandae voluptas velit placeat maxime reprehenderit
                        aliquam odio adipisci, ut laudantium autem obcaecati explicabo iusto rerum illum error possimus aperiam!
                    </p>
                    <a href="/files" class="bg-white p-2 border hover:bg-blue-200 hidden agent-text">Access</a>
                </div>
            </div>

            <div class="agent absolute h-40 aspect-square cursor-pointer z-30" style="top: 0; left: 0">
                <model-viewer
                    class="mb-2 w-full h-full pointer-events-none"
                    src="/project/characters/controler.glb"
                    tone-mapping="neutral"
                    shadow-intensity="2"
                    shadow-softness="0"
                    exposure="1.15"
                    camera-orbit="99.92deg 0deg 3.792m"
                    field-of-view="30deg"
                    auto-rotate
                >
                </model-viewer>
                <div class="absolute top-4 left-4 text-xl pointer-events-auto">
                    <h3 class="text-3xl mb-2 hidden agent-text">Infrastructure Character</h3>
                    <p class="mb-6 hidden agent-text">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa sit recusandae voluptas velit placeat maxime reprehenderit aliquam odio
                        adipisci, ut laudantium autem obcaecati explicabo iusto rerum illum error possimus aperiam!
                    </p>
                    <a href="/infrastructure" class="bg-white p-2 border hover:bg-blue-200 hidden agent-text">Access</a>
                </div>
            </div>

            <div class="agent absolute h-40 aspect-square cursor-pointer z-30" style="top: 0; left: 0">
                <model-viewer
                    class="mb-2 w-full h-full pointer-events-none"
                    src="/project/characters/hashtag.glb"
                    tone-mapping="neutral"
                    shadow-intensity="2"
                    shadow-softness="0"
                    exposure="1.15"
                    camera-orbit="99.92deg 0deg 3.792m"
                    field-of-view="30deg"
                    auto-rotate
                >
                </model-viewer>
                <div class="absolute top-4 left-4 text-xl pointer-events-auto">
                    <h3 class="text-3xl mb-2 hidden agent-text">Spatial</h3>
                    <p class="mb-6 hidden agent-text">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa sit recusandae voluptas velit placeat maxime reprehenderit aliquam odio
                        adipisci, ut laudantium autem obcaecati explicabo iusto rerum illum error possimus aperiam!
                    </p>
                    <a href="#" class="bg-white p-2 border hover:bg-blue-200 hidden agent-text">Access</a>
                </div>
            </div>
        </div>

        <!-- Overlay para cerrar al hacer clic fuera -->
        <div id="overlay" class="fixed inset-0 backdrop-blur-lg bg-opacity-50 z-20 hidden"></div>

        <!-- Cargamos el script externo -->
        <script src="/linear/index_files/moving.js"></script>
        <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>

        <script>
            // Función asíncrona que contiene todo el código
            async function initGlobe() {
                const gData = [
                    {
                        lat: "37.77878439146285",
                        lng: "-122.39551307296638",
                        name: "Non-archive server",
                        ipAdress: "185.199.109.153",
                        isp: "Fastly, Inc.",
                        organization: "GitHub, Inc",
                        country: "United States (US)",
                        region: "California",
                        city: " San Francisco (South Beach)",
                    },
                    {
                        lat: "50.11042454770332",
                        lng: "8.68220103955172",
                        name: "Ocean Archive journeys server",
                        ipAdress: "18.197.203.202",
                        isp: "Amazon Technologies Inc.",
                        organization: "A100 ROW GmbH",
                        country: "Germany (DE)",
                        region: "Hesse",
                        city: "Frankfurt am Main",
                    },
                    {
                        lat: "53.40026990092315",
                        lng: "-6.220557237450777",
                        name: "Ocean Archive main server",
                        ipAdress: "3.160.231.95",
                        isp: "Amazon.com, Inc.",
                        organization: "Amazon Technologies Inc.",
                        country: "Ireland (IE)",
                        region: "Leinster",
                        city: "Dublin",
                    },
                    {
                        lat: "53.55872575096067",
                        lng: "-6.2526235637301975",
                        name: "Miro servers",
                        ipAdress: "3.160.231.95",
                        isp: "Amazon.com, Inc.",
                        organization: "Amazon Technologies Inc.",
                        country: "Ireland (IE)",
                        region: "Leinster",
                        city: "Dublin",
                    },
                    {
                        lat: "48.19866526976332",
                        lng: "16.39776371778704",
                        name: "Organismo Synology Drive",
                        ipAdress: "213.47.212.205",
                        isp: "T-Mobile Austria GmbH",
                        organization: "IT TECTS Beratungs",
                        country: "Austria (AT)",
                        region: "Vienna",
                        city: "Vienna",
                    },
                    {
                        lat: "34.025423456799395",
                        lng: "-118.4799568713748",
                        name: "Vercel servers",
                        ipAdress: "64.29.17.129",
                        isp: "Amazon.com, Inc.",
                        organization: "Vercel, Inc",
                        country: "United States (US)",
                        region: "California",
                        city: "Walnut",
                    },
                    {
                        lat: "43.664703608901604",
                        lng: "-79.39347475755288",
                        name: "Jitsi servers",
                        ipAdress: "104.18.21.227",
                        isp: "Cloudflare, Inc.",
                        organization: "Cloudflare, Inc.",
                        country: "Canada (CA)",
                        region: "Ontario",
                        city: "Toronto",
                    },
                    {
                        lat: "50.18460438697841",
                        lng: "14.776958592740309",
                        name: "Monoskop server",
                        ipAdress: "88.208.121.79",
                        isp: "Dial Telecom",
                        organization: "SPOJE.NET s.r.o.",
                        country: "Czechia (CZ)",
                        region: "Hlavní město Praha",
                        city: "Prague",
                    },
                    {
                        lat: "37.33851142828785",
                        lng: "-121.90008201646896",
                        name: "Zoom server",
                        ipAdress: "37.34.55.224",
                        isp: "Cloudflare London, LLC",
                        organization: "Zoom Video Communications, Inc",
                        country: "United States (US)",
                        region: "California",
                        city: "San Jose (Ballbach and SOFA)",
                    },
                    {
                        lat: "51.92746534331929",
                        lng: "4.502790191285103",
                        name: "OSP server",
                        ipAdress: "37.34.55.224",
                        isp: "XL Network",
                        organization: "XL B.V.",
                        country: "The Netherlands (NL)",
                        region: "South Holland",
                        city: "Rotterdam (Kralingen-Crooswijk)",
                    },
                    {
                        lat: "40.403647247186136",
                        lng: "-3.7291014822309316",
                        name: "Enrique",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "45.46248908726694",
                        lng: "9.18592851628571",
                        name: "Ludovica",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "52.34937199857117",
                        lng: "4.898423126146241",
                        name: "Nina",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "51.429476777277586",
                        lng: "5.468986766515225",
                        name: "Sebastian",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "52.51206662151834",
                        lng: "13.409584596188896",
                        name: "Walla",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "50.06342031980661",
                        lng: "14.457606552638278",
                        name: "Michal",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "48.21697219740088",
                        lng: "16.364384553621626",
                        name: "Ola",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "48.289385204416384",
                        lng: "14.29219318385671",
                        name: "Onur",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "52.472760363656796",
                        lng: "4.944984874340289",
                        name: "Dusan",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "51.96803057021379",
                        lng: "14.304617867717571",
                        name: "Simon",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "50.851064184665134",
                        lng: "4.328435379955427",
                        name: "Gijs",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                    {
                        lat: "40.41624037948079",
                        lng: "-3.6948284611336972",
                        name: "Organismo Team",
                        ipAdress: "xx.xx.xx.xxx",
                    },
                ];

                const arcsData = [
                    {
                        startLat: gData.filter((g) => g.name == "Organismo Team")[0].lat,
                        startLng: gData.filter((g) => g.name == "Organismo Team")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Organismo Team")[0].lat,
                        startLng: gData.filter((g) => g.name == "Organismo Team")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Enrique")[0].lat,
                        startLng: gData.filter((g) => g.name == "Enrique")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ludovica")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ludovica")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Nina")[0].lat,
                        startLng: gData.filter((g) => g.name == "Nina")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Sebastian")[0].lat,
                        startLng: gData.filter((g) => g.name == "Sebastian")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Walla")[0].lat,
                        startLng: gData.filter((g) => g.name == "Walla")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ola")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ola")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Michal")[0].lat,
                        startLng: gData.filter((g) => g.name == "Michal")[0].lng,
                        endLat: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lat,
                        endLng: gData.filter((g) => g.name == "Organismo Synology Drive")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Enrique")[0].lat,
                        startLng: gData.filter((g) => g.name == "Enrique")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ludovica")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ludovica")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Nina")[0].lat,
                        startLng: gData.filter((g) => g.name == "Nina")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Sebastian")[0].lat,
                        startLng: gData.filter((g) => g.name == "Sebastian")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Walla")[0].lat,
                        startLng: gData.filter((g) => g.name == "Walla")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ola")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ola")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Michal")[0].lat,
                        startLng: gData.filter((g) => g.name == "Michal")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Enrique")[0].lat,
                        startLng: gData.filter((g) => g.name == "Enrique")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ludovica")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ludovica")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Nina")[0].lat,
                        startLng: gData.filter((g) => g.name == "Nina")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Sebastian")[0].lat,
                        startLng: gData.filter((g) => g.name == "Sebastian")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Walla")[0].lat,
                        startLng: gData.filter((g) => g.name == "Walla")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ola")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ola")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Michal")[0].lat,
                        startLng: gData.filter((g) => g.name == "Michal")[0].lng,
                        endLat: gData.filter((g) => g.name == "Zoom server")[0].lat,
                        endLng: gData.filter((g) => g.name == "Zoom server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Onur")[0].lat,
                        startLng: gData.filter((g) => g.name == "Onur")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Dusan")[0].lat,
                        startLng: gData.filter((g) => g.name == "Dusan")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Gijs")[0].lat,
                        startLng: gData.filter((g) => g.name == "Gijs")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Simon")[0].lat,
                        startLng: gData.filter((g) => g.name == "Simon")[0].lng,
                        endLat: gData.filter((g) => g.name == "Jitsi servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Jitsi servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Enrique")[0].lat,
                        startLng: gData.filter((g) => g.name == "Enrique")[0].lng,
                        endLat: gData.filter((g) => g.name == "Miro servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Miro servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ludovica")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ludovica")[0].lng,
                        endLat: gData.filter((g) => g.name == "Miro servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Miro servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Nina")[0].lat,
                        startLng: gData.filter((g) => g.name == "Nina")[0].lng,
                        endLat: gData.filter((g) => g.name == "Miro servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Miro servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Sebastian")[0].lat,
                        startLng: gData.filter((g) => g.name == "Sebastian")[0].lng,
                        endLat: gData.filter((g) => g.name == "Miro servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Miro servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Walla")[0].lat,
                        startLng: gData.filter((g) => g.name == "Walla")[0].lng,
                        endLat: gData.filter((g) => g.name == "Miro servers")[0].lat,
                        endLng: gData.filter((g) => g.name == "Miro servers")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Enrique")[0].lat,
                        startLng: gData.filter((g) => g.name == "Enrique")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ludovica")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ludovica")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Nina")[0].lat,
                        startLng: gData.filter((g) => g.name == "Nina")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Sebastian")[0].lat,
                        startLng: gData.filter((g) => g.name == "Sebastian")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Walla")[0].lat,
                        startLng: gData.filter((g) => g.name == "Walla")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Ola")[0].lat,
                        startLng: gData.filter((g) => g.name == "Ola")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Gijs")[0].lat,
                        startLng: gData.filter((g) => g.name == "Gijs")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                    {
                        startLat: gData.filter((g) => g.name == "Simon")[0].lat,
                        startLng: gData.filter((g) => g.name == "Simon")[0].lng,
                        endLat: gData.filter((g) => g.name == "OSP server")[0].lat,
                        endLng: gData.filter((g) => g.name == "OSP server")[0].lng,
                    },
                ];

                const response = await fetch("https://ipapi.co/json/");
                const data = await response.json();
                if (data) {
                    arcsData.push({
                        startLat: "34.025423456799395",
                        startLng: "-118.4799568713748",
                        endLat: data.latitude || "0",
                        endLng: data.longitude || "0",
                    });
                    gData.push({
                        lat: data.latitude || "0",
                        lng: data.longitude || "0",
                        name: "Your information",
                        ipAdress: data.ip || "Not available",
                        isp: data.org || "Not available",
                        country: data.country_name || "Not available",
                        region: data.region || "Not available",
                        city: data.city || "Not available",
                    });
                }

                const globe = new Globe(document.getElementById("globeViz"))
                    .globeImageUrl("//cdn.jsdelivr.net/npm/three-globe/example/img/earth-blue-marble.jpg")
                    .htmlElementsData(gData)
                    .htmlElement((d) => {
                        const el = document.createElement("div");
                        el.innerHTML = `<div class="pointer-events-none translate-x-1/2 translate-y-1/2 relative font-mono"> 
                        <div class="h-2 w-2 border bg-white rounded-full absolute -top-1 -left-1"></div>
                        <table class="${d.name == "Your information" ? "bg-emerald-300" : "bg-white"} absolute top-1 left-1 w-50 border table-fixed">
                            <tr>
                            <th class="p-1 border-b border-slate-500 text-left text-xs" colspan="2">${d.name}</th>
                            </tr>
                            <tr class=" border-b border-slate-500 text-xs break-all">
                            <td class=" p-1 border-r border-slate-500 text-xs italic">Public IP</td>
                            <td class=" p-1">${d.ipAdress}</td>
                            </tr>
                            ${
                                d.isp
                                    ? `<tr class=" border-b border-slate-500 text-xs break-all">
                            <td class=" p-1 border-r border-slate-500 text-xs italic">ISP</td>
                            <td class=" p-1">${d.isp}</td>
                            </tr>`
                                    : ""
                            }
                            ${
                                d.organization
                                    ? `<tr class=" border-b border-slate-500  text-xs break-all">
                            <td class=" p-1 border-r border-slate-500 text-xs italic">Organization</td>
                            <td class=" p-1">${d.organization}</td>
                            </tr>`
                                    : ""
                            }
                            ${
                                d.country
                                    ? `<tr class=" border-b border-slate-500  text-xs break-all">
                            <td class=" p-1 border-r border-slate-500 text-xs italic">Country</td>
                            <td class=" p-1">${d.country}</td>
                            </tr>`
                                    : ""
                            }
                            ${
                                d.region
                                    ? `<tr class=" border-b border-slate-500  text-xs break-all">
                            <td class=" p-1 border-r border-slate-500 text-xs italic">Region</td>
                            <td class=" p-1">${d.region}</td>
                            </tr>`
                                    : ""
                            }
                            ${
                                d.city
                                    ? `<tr class="  text-xs break-all">
                            <td class=" p-1 border-r border-slate-500 text-xs italic">City</td>
                            <td class=" p-1">${d.city}</td>
                            </tr>`
                                    : ""
                            }
                            
                            
                            
                            
                        </table>
                        </div>`;
                        el.style.transition = "opacity 250ms";
                        return el;
                    })
                    .htmlElementVisibilityModifier((el, isVisible) => (el.style.opacity = isVisible ? 1 : 0))
                    .backgroundColor("white")
                    .arcsData(arcsData)
                    .arcColor(() => "red");
            }

            // Llamar a la función cuando se cargue la página
            initGlobe();
        </script>
    </body>
</html>
